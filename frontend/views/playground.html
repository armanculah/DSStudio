<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Playground - Data Structures Studio</title>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900">
  <!-- Navigation -->
  <nav class="bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-6 py-4">
      <div class="flex justify-between items-center">
        <h1 class="text-xl font-bold text-purple-700">
          <a href="../index.html" class="hover:text-purple-800 transition-colors">Data Structures Studio</a>
        </h1>
        <div class="flex gap-4">
          <a href="./login.html" class="text-gray-600 hover:text-purple-700 transition-colors">Login</a>
          <a href="./signup.html" class="text-gray-600 hover:text-purple-700 transition-colors">Sign up</a>
          <a href="./playground.html" class="text-purple-700 font-medium">Playground</a>
          <a href="./profile.html" class="text-gray-600 hover:text-purple-700 transition-colors">Profile</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="max-w-7xl mx-auto p-6">
    <div class="mb-6">
      <h2 class="text-2xl font-bold text-gray-900 mb-2">Interactive Playground</h2>
      <p class="text-gray-600">Experiment with data structures and algorithms in real-time</p>
    </div>

    <!-- Status/Messages Area -->
    <div id="status" class="mb-4 min-h-[2rem]" aria-live="polite">
      <div class="text-sm text-gray-600"></div>
    </div>

    <!-- Main Layout: Controls and Canvas -->
    <div class="flex flex-col lg:flex-row gap-6">
      
      <!-- Controls Panel -->
      <div class="lg:w-80 space-y-4">
        <div class="ds-card">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">Controls</h3>
          
          <!-- Input Section -->
          <div class="space-y-4">
            <div>
              <label for="dataInput" class="block text-sm font-medium text-gray-700 mb-1">
                Add Value
              </label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="dataInput" 
                  placeholder="Enter value..."
                  class="ds-input flex-1"
                >
                <button id="insertBtn" class="ds-btn ds-btn-primary whitespace-nowrap">
                  Insert
                </button>
              </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="grid grid-cols-2 gap-2">
              <button id="removeBtn" class="ds-btn ds-btn-secondary">
                Remove
              </button>
              <button id="clearBtn" class="ds-btn ds-btn-secondary">
                Clear
              </button>
            </div>

            <button id="saveStateBtn" class="w-full ds-btn ds-btn-outline">
              Save current state
            </button>
            
            <!-- Animation Controls -->
            <div class="space-y-3 pt-4 border-t border-gray-200">
              <h4 class="text-sm font-medium text-gray-700">Animation</h4>
              
              <button id="autoplayBtn" class="w-full ds-btn ds-btn-outline">
                Auto-play
              </button>
              
              <div>
                <label for="speedSlider" class="block text-sm font-medium text-gray-700 mb-2">
                  Speed: <span id="speedValue">50</span>%
                </label>
                <input 
                  type="range" 
                  id="speedSlider" 
                  min="10" 
                  max="100" 
                  value="50" 
                  class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"
                >
              </div>
            </div>
          </div>
        </div>
        
        <!-- Algorithm Selection -->
        <div class="ds-card">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">Data Structure</h3>
          <select id="algorithmSelect" class="ds-input">
            <option value="array">Array</option>
            <option value="stack">Stack</option>
            <option value="queue">Queue</option>
            <option value="linkedlist">Linked List</option>
            <option value="bst">Binary Search Tree</option>
          </select>
        </div>
      </div>

      <!-- Canvas Area -->
      <div class="flex-1">
        <div class="ds-card h-full min-h-[400px]">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Visualization</h3>
            <div class="text-sm text-gray-500">
              Ready to visualize
            </div>
          </div>
          
          <!-- SVG Canvas -->
          <div class="border-2 border-gray-200 rounded-lg overflow-hidden bg-white">
            <svg 
              id="vis" 
              width="100%" 
              height="400" 
              viewBox="0 0 1000 400"
              class="block"
              role="img" 
              aria-label="Data structure visualization canvas"
            >
              <!-- Placeholder content -->
              <defs>
                <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                  <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#f3f4f6" stroke-width="1"/>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#grid)" />
              <text 
                x="500" 
                y="200" 
                text-anchor="middle" 
                fill="#9ca3af" 
                font-family="system-ui" 
                font-size="18"
              >
                Visualization will appear here
              </text>
            </svg>
          </div>
          
          <!-- Canvas Info -->
          <div class="mt-4 text-sm text-gray-600">
            <p>Use the controls on the left to interact with the data structure. The visualization will update in real-time.</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Save Modal -->
  <div id="saveModal" class="hidden ds-modal" role="dialog" aria-modal="true">
    <div class="ds-card ds-modal-card space-y-4">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-semibold text-gray-900">Save Visualization</h3>
        <button id="closeSaveModal" class="text-sm text-gray-500 hover:text-gray-700" type="button">
          Close
        </button>
      </div>
      <form id="saveForm" class="space-y-4">
        <div>
          <label for="saveName" class="block text-sm font-medium text-gray-700 mb-1">
            Name this state
          </label>
          <input id="saveName" type="text" class="ds-input" placeholder="e.g. Stack with 5 elements" required>
        </div>
        <p id="saveStructureLabel" class="text-sm text-gray-500"></p>
        <button class="w-full ds-btn ds-btn-primary" type="submit">
          Save visualization
        </button>
        <div id="saveMessage" class="text-sm text-gray-500 min-h-[1.25rem]" aria-live="polite"></div>
      </form>
    </div>
  </div>

  <script type="module" src="/src/playground.js"></script>
</body>
</html>
